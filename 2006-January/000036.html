<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [vidprofile-svn] r40 - trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/vidprofile-svn/2006-January/index.html" >
   <LINK REL="made" HREF="mailto:vidprofile-svn%40lists.berlios.de?Subject=Re%3A%20%5Bvidprofile-svn%5D%20r40%20-%20trunk&In-Reply-To=%3C200601211535.k0LFZMUD020963%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000035.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[vidprofile-svn] r40 - trunk</H1>
    <B>friedrij at BerliOS</B> 
    <A HREF="mailto:vidprofile-svn%40lists.berlios.de?Subject=Re%3A%20%5Bvidprofile-svn%5D%20r40%20-%20trunk&In-Reply-To=%3C200601211535.k0LFZMUD020963%40sheep.berlios.de%3E"
       TITLE="[vidprofile-svn] r40 - trunk">friedrij at berlios.de
       </A><BR>
    <I>Sat Jan 21 16:35:22 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000035.html">[vidprofile-svn] r39 - trunk
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36">[ date ]</a>
              <a href="thread.html#36">[ thread ]</a>
              <a href="subject.html#36">[ subject ]</a>
              <a href="author.html#36">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: friedrij
Date: 2006-01-21 16:35:21 +0100 (Sat, 21 Jan 2006)
New Revision: 40

Modified:
   trunk/configure.ac
Log:
a much more informative autoconfigure, and better commented

Modified: trunk/configure.ac
===================================================================
--- trunk/configure.ac	2006-01-21 13:07:05 UTC (rev 39)
+++ trunk/configure.ac	2006-01-21 15:35:21 UTC (rev 40)
@@ -1,4 +1,6 @@
 # Process this file with autoconf to produce a configure script.
+# Autoconf documentation:
+#     <A HREF="http://www.gnu.org/software/autoconf/manual/index.html">http://www.gnu.org/software/autoconf/manual/index.html</A>
 
 # Copyright (C) 2005 Joe Friedrichsen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/vidprofile-svn">friedrij at users.berlios.de</A>&gt;
 # 
@@ -49,16 +51,14 @@
 # ******************************************************************************
 # ******************************************************************************
 
-# AC_MSG_CHECKING(feature-description)
-# AC_MSG_RESULT(result-description)
-# AC_PATH_PROG(variable, prog-to-check-for, [value-if-not-found])
-# AC_CHECK_PROG(variable, prog-to-check-for, value-if-found, 
-#               [value-if-not-found], [path-to-search], [reject])
-# AC_MSG_WARN([problem-description])
-
 # ******************************************************************************
 # Required Dependencies 
 # ******************************************************************************
+# How to add a dependency called foo: 
+#  (1) append another line to the AC_CHECK_PROG block to check for foo:
+#         AC_CHECK_PROG(FOO, [foo], [ok], [MISSING])
+#  (2) add another msg called foo_msg to the *_msg block 
+#  (3) add another name/variable pair to REQ_DEP_LIST: foo=$FOO
 
 AC_MSG_NOTICE([Checking for required dependencies...])
 AC_CHECK_PROG(GREP, [grep], [ok], [MISSING])
@@ -68,7 +68,7 @@
 
 # ------------------------------------------------------------------------------
 # Complain about missing required dependencies. If some are missing, list all
-# missing ones before failing and exiting.
+# missing ones and their _msg before failing and exiting.
 
 grep_msg=&quot;a GNU utility (<A HREF="http://www.gnu.org/software/grep">http://www.gnu.org/software/grep</A>)&quot;
 mplayer_msg=&quot;part of mplayer (<A HREF="http://www.mplayerhq.hu">http://www.mplayerhq.hu</A>)&quot;
@@ -106,18 +106,25 @@
 # ******************************************************************************
 # Optional Dependencies 
 # ******************************************************************************
+# To add a new depedency called bar:
+#  (1) append another line to the AC_CHECK_PROG block to check for bar:
+#         AC_CHECK_PROG(BAR, [bar], [ok], [MISSING])
+#  (2) add another msg called bar_msg to the *_msg block 
+#  (3) add another test to the catagory's build option:
+#         test &quot;x$FOO&quot; = &quot;xok&quot;
+#  (4) add another name/variable pair to OPT_DEP_LIST: bar=$BAR
 
 AC_MSG_NOTICE([Checking for optional dependencies...])
 
 # ------------------------------------------------------------------------------
+# Check for Peak Signal to Noise Ratio dependencies
+AC_CHECK_PROG(PNMPSNR, [pnmpsnr], [ok], [MISSING])
+
+# ------------------------------------------------------------------------------
 # Disabled messages given to user in the FINAL SUMMARY when a dependency cannot
 # be found.
 pnmpsnr_msg=&quot;(cannot measure PSNR)&quot;
 
-# ------------------------------------------------------------------------------
-# Check for Peak Signal to Noise Ratio dependencies
-AC_CHECK_PROG(PNMPSNR, [pnmpsnr], [ok], [MISSING])
-
 if test &quot;x$PNMPSNR&quot; = &quot;xok&quot;; then
    HAVE_PSNR=&quot;pnmpsnr&quot;
 else


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000035.html">[vidprofile-svn] r39 - trunk
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36">[ date ]</a>
              <a href="thread.html#36">[ thread ]</a>
              <a href="subject.html#36">[ subject ]</a>
              <a href="author.html#36">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/vidprofile-svn">More information about the vidprofile-svn
mailing list</a><br>
</body></html>
